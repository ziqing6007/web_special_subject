<!DOCTYPE html>

<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="static/css/materialize.min.css">
    <link rel="stylesheet" href="static/css/main.css">
    <script src="https://kit.fontawesome.com/2bc6e51340.js" crossorigin="anonymous"></script>
    <title>神話人物介紹</title>
</head>

<body class="list_hover_open">
    <div class="story_area">
        <i class="far fa-window-close close_icon" onclick="closeStroyArea()"></i>
        <div class="story_wrap">
            <img class="story_image" src="static/image/greece.jpg">
            <div class="story">
                <div class="story_title" id="story_title">希臘神話</div>
                <div class="story_content" id="story_content">
                    奧林匹亞宙斯神廟 (希臘語：Ναὸς τοῦ Ὀλυμπίου Διός, Naos tou Olympiou
                    Dios，又稱Olympieion），是一座已毀的供奉宙斯的神廟，位於希臘首都雅典市中心，憲法廣場以南700米，雅典衛城東南方500米。它始建於公元前6世紀，計劃建成古代世界最偉大的寺廟，直到638年後，公元2世紀羅馬帝國皇帝哈德良在位期間才得以完成。在羅馬帝國時期，它是希臘最大的神廟，擁有古代世界最大的神像之一。
                    公元3世紀遭蠻族洗劫後，該廟被廢棄。在羅馬帝國滅亡後的數個世紀中，該廟的石料被大量取走，用於其他建築的材料。今天仍可見到其遺蹟，是雅典一個主要的旅遊景點。
                    2007年1月21日，一群古希臘宗教教徒在神廟舉行崇拜宙斯的儀式。
                </div>
            </div>
        </div>
        <div class="list_wrap" onclick="openList()">
        </div>
    </div>
    <div>
        <img class="map" src="static/image/ancient map.jpg" id="map">
        <svg class="image_map" width="100%" height="100%" version="1.1" id="image_map">
            <filter id="glow">
                <feOffset in="SourceGraphic" dx="60" dy="60" />
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur2" />
                <feMerge>
                    <feMergeNode in="blur2" />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>
            <filter id="shadow" height="130%">
                <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
                <feOffset dx="2" dy="2" result="offsetblur" />
                <feComponentTransfer>
                    <feFuncA type="linear" slope="0.5" />
                </feComponentTransfer>
                <feMerge>
                    <feMergeNode />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>
            <polygon id="area0" onclick="openStroyArea($(this).attr('id'))" />
            <polygon id="area1" onclick="openStroyArea($(this).attr('id'))" />
            <polygon id="area2" onclick="openStroyArea($(this).attr('id'))" />
            <polygon id="area3" onclick="openStroyArea($(this).attr('id'))" />
            <polygon id="area4" onclick="openStroyArea($(this).attr('id'))" />
        </svg>
    </div>
    <script src="static/js/jquery-3.4.1.min.js"></script>
    <script src="static/js/materialize.min.js"></script>
    <script>
        var points = [];
        points[0] = [
            662, 251, 683, 229, 720, 222, 720, 229, 755, 239, 748,
            243, 725, 237, 740, 256, 718, 271, 703, 271, 693, 259, 702, 247,
            683, 267, 688, 278, 683, 286, 670, 293, 665, 281, 652, 286, 650,
            267
        ];
        points[1] = [
            708, 389, 696, 360, 668, 342, 701, 327, 728, 337, 727, 361, 712, 364
        ];
        points[2] = [
            709, 411, 708, 452, 717, 465, 762, 466, 766, 453, 750, 419, 729, 416
        ];
        points[3] = [
            905, 438, 978, 458, 968, 476, 949, 497, 944, 537, 936, 539, 917, 491
        ];
        points[4] = [
            986, 454, 1023, 458, 1072, 470, 1106, 457, 1114, 427, 1093, 392, 1084,
            377, 1089, 365, 1059, 332, 1037, 322, 1017, 325, 1002, 320, 975, 323, 950,
            322, 933, 329, 897, 375, 900, 407, 907, 432
        ];

        $(function () {
            $("#image_map").hide();
            setTimeout(function () {
                $("#image_map").show();
            }, 2000)
            setPoints("#area", 5);
        })

        $(window).resize(function () {
            setPoints("#area", 6);
        });

        function setPoints(areaId, areasQuantity) {
            var oldWidth = $("#map")[0].naturalWidth;
            var oldHeight = $("#map")[0].naturalHeight;

            var newWidth = $("#map")[0].width;
            var newHeight = $("#map")[0].height;

            var widthRatio = newWidth / oldWidth;
            var hegihtRatio = newHeight / oldHeight;

            for (var i = 0; i < areasQuantity; i++) {
                var newPoints = "";
                for (var j = 0; j < points[i].length - 1; j += 2) {
                    newPoints += points[i][j] * widthRatio + ",";
                    newPoints += points[i][j + 1] * hegihtRatio + ",";
                }
                newPoints = newPoints.substr(0, newPoints.length - 1);
                $(areaId + i).attr("points", newPoints);
            }
        }

        function openStroyArea(id) {
            $(".story_area").attr("class", "story_area opening");
        }

        function closeStroyArea() {
            $(".story_area").addClass("closing")
            setTimeout(function () {
                $(".story_area").attr("class", "story_area");
            }, 200)

        }

        function openList() {
            $('body').removeClass('list_hover_open');
            $(".story_wrap").attr("class", "story_wrap prevpage");
        }
    </script>
</body>

</html>